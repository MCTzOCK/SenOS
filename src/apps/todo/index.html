<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ToDo</title>
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">
    <!-- jQuery -->
    <script type="application/javascript" src="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js"></script>
    <!-- SenOS -->
    <link rel="stylesheet" href="todo.css">
    <script src="todo.js"></script>
    <!-- Sheepy -->
    <script src="https://cdn.senos.xyz/sheepy/1.0/dist/js/sheepy.min.js"></script>
    <script>if (window.module) module = window.module;</script>
</head>
<body class="bg-dark" style="margin: 0; padding: 0">
    <div id="controls-right" style="text-align: right; position: absolute; right: 1vh; top: 1vh; cursor:pointer;">
        <h1 class="bi bi-plus-circle text-light" style="font-size: 5vh;" onclick="new bootstrap.Modal(document.getElementById('addListPopup'), {}).show()"></h1>
    </div>
    <div id="lists" style="display: inline-block;">
    </div>
    <div class="modal fade" tabindex="-1" id="listView">
        <div class="modal-dialog modal-dialog-scrollable modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="listViewTitle">Liste 1</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="accordion" id="tasks">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="doHeading">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#doTasks" aria-expanded="true" aria-controls="doTasks">
                                    Zu erledigende Aufgaben
                                </button>
                            </h2>
                            <div id="doTasks" class="accordion-collapse collapse show" aria-labelledby="doHeading" data-bs-parent="#tasks">
                                <div class="accordion-body">
                                    <button class="btn btn-primary bi bi-plus" onclick="$('#listView').modal('hide'); new bootstrap.Modal(document.getElementById('addTaskPopup'), {}).show()"></button>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Name</th>
                                                <th scope="col">Aktionen</th>
                                            </tr>
                                        </thead>
                                        <tbody id="toDoBody">
                                            <tr>
                                                <th scope="row">1</th>
                                                <td>Mark</td>
                                                <td>Otto</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="finishedHeading">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#finishedTasks" aria-expanded="false" aria-controls="finishedTasks">
                                    Abgeschlossene Aufgaben
                                </button>
                            </h2>
                            <div id="finishedTasks" class="accordion-collapse collapse" aria-labelledby="finishedHeading" data-bs-parent="#tasks">
                                <div class="accordion-body">
                                    <table class="table">
                                        <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Name</th>
                                            <th scope="col">Aktionen</th>
                                        </tr>
                                        </thead>
                                        <tbody id="progressBody">
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>Mark</td>
                                            <td>Otto</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Schließen</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" tabindex="-1" id="continuePopup">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="continueTitle">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="continueContent">
                    <p>Modal body text goes here.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="continueFinal">Speichern</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" tabindex="-1" id="successPopup">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold">Erfolgreich</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Die Aktion war erfolgreich!</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-bs-dismiss="modal">Schließen</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" tabindex="-1" id="addListPopup">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Neue Liste</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <span class="input-group-text col-2">Name</span>
                        <input class="form-control" id="addListName">
                    </div>
                    <span class="text-danger d-none" id="addListAlreadyExists">Diese Liste existiert bereits!</span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
                    <button type="button" class="btn btn-primary" onclick="addList()">Erstellen</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" tabindex="-1" id="addTaskPopup">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Neue Aufgabe</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <span class="input-group-text col-2">Name</span>
                        <input class="form-control" id="addTaskName">
                    </div>
                    <span class="text-danger d-none" id="addTaskAlreadyExists">Diese Aufgabe existiert bereits!</span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
                    <button type="button" class="btn btn-primary" onclick="addTask()">Erstellen</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" tabindex="-1" id="editTaskPopup">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Aufgabe bearbeiten</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <span class="input-group-text col-2">Name</span>
                        <input class="form-control" id="editTaskName">
                    </div>
                    <span class="text-danger d-none" id="editTaskAlreadyExists">Diese Aufgabe existiert bereits!</span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
                    <button type="button" class="btn btn-primary" onclick="editTask()">Speichern</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" tabindex="-1" id="editListPopup">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Liste bearbeiten</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <span class="input-group-text col-2">Name</span>
                        <input class="form-control" id="editListName">
                    </div>
                    <span class="text-danger d-none" id="editListAlreadyExists">Diese Liste existiert bereits!</span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
                    <button type="button" class="btn btn-primary" onclick="editList()">Speichern</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>